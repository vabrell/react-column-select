import e,{useState as n,useMemo as r,useEffect as t}from"react";import o from"@emotion/styled";var l=function(){return(l=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function i(e,n){for(var r=0,t=n.length,o=e.length;r<t;r++,o++)e[o]=n[r];return e}function a(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}var d,c,u,s,m,p,f,g,h,b,v,x,C=o.div(d||(d=a(["\n  display: grid;\n  gap: 0.5rem;\n  grid-template-columns: repeat(1, 5fr);\n  grid-template-areas: 'a' 'd' 'b' 'c' 'e';\n  &,\n  & * {\n    box-sizing: border-box;\n  }\n\n  @media (min-width: 600px) {\n    grid-template-columns: repeat(2, 2fr) 95px repeat(2, 2fr);\n    grid-template-areas: 'a a b c c' 'd d b e e';\n  }\n"],["\n  display: grid;\n  gap: 0.5rem;\n  grid-template-columns: repeat(1, 5fr);\n  grid-template-areas: 'a' 'd' 'b' 'c' 'e';\n  &,\n  & * {\n    box-sizing: border-box;\n  }\n\n  @media (min-width: 600px) {\n    grid-template-columns: repeat(2, 2fr) 95px repeat(2, 2fr);\n    grid-template-areas: 'a a b c c' 'd d b e e';\n  }\n"]))),w=o.div(c||(c=a(["\n  grid-area: a;\n  display: flex;\n  align-items: center;\n  padding: 0.75rem;\n  background-color: ",";\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 10px;\n    right: 10px;\n    height: 1px;\n    background-color: ",";\n  }\n"],["\n  grid-area: a;\n  display: flex;\n  align-items: center;\n  padding: 0.75rem;\n  background-color: ",";\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 10px;\n    right: 10px;\n    height: 1px;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.headerBgColor}),(function(e){return e.theme.columnBorderColor})),k=o.div(u||(u=a(["\n  grid-area: c;\n  display: flex;\n  align-items: center;\n  padding: 0.75rem;\n  background-color: ",";\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 10px;\n    right: 10px;\n    height: 1px;\n    background-color: ",";\n  }\n"],["\n  grid-area: c;\n  display: flex;\n  align-items: center;\n  padding: 0.75rem;\n  background-color: ",";\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 10px;\n    right: 10px;\n    height: 1px;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.headerBgColor}),(function(e){return e.theme.columnBorderColor})),y=o.div(s||(s=a(["\n  grid-area: b;\n  align-self: center;\n"],["\n  grid-area: b;\n  align-self: center;\n"]))),E=o.div(m||(m=a(["\n  grid-area: d;\n  border: 1px solid ",";\n  border-radius: 2px;\n"],["\n  grid-area: d;\n  border: 1px solid ",";\n  border-radius: 2px;\n"])),(function(e){return e.theme.columnBorderColor})),B=o.div(p||(p=a(["\n  grid-area: e;\n  border: 1px solid ",";\n  border-radius: 2px;\n"],["\n  grid-area: e;\n  border: 1px solid ",";\n  border-radius: 2px;\n"])),(function(e){return e.theme.columnBorderColor})),D=o.input(f||(f=a(["\n  width: 100%;\n  min-width: 0;\n  height: 2rem;\n  border: 0;\n  outline: 0;\n  border-radius: 0.125rem;\n  appearance: none;\n  font-size: 0.875rem;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  transition: all 0.2s;\n\n  &:focus {\n    z-index: 1;\n    border-color: ",";\n    box-shadow: 0 0 0 1px ",";\n  }\n\n  &:hover: {\n    border-color: #cbd5e0;\n  }\n"],["\n  width: 100%;\n  min-width: 0;\n  height: 2rem;\n  border: 0;\n  outline: 0;\n  border-radius: 0.125rem;\n  appearance: none;\n  font-size: 0.875rem;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  transition: all 0.2s;\n\n  &:focus {\n    z-index: 1;\n    border-color: ",";\n    box-shadow: 0 0 0 1px ",";\n  }\n\n  &:hover: {\n    border-color: #cbd5e0;\n  }\n"])),(function(e){return e.theme.searchFocusBorderColor}),(function(e){return e.theme.searchFocusBorderColor})),A=o.p(g||(g=a(["\n  font-weight: 600;\n  font-size: 1em;\n  margin: 0;\n"],["\n  font-weight: 600;\n  font-size: 1em;\n  margin: 0;\n"]))),S=o.div(h||(h=a(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  border-top-width: ",";\n  border-top-style: solid;\n  border-color: inherit;\n  overflow-y: auto;\n  height: 20rem;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  border-top-width: ",";\n  border-top-style: solid;\n  border-color: inherit;\n  overflow-y: auto;\n  height: 20rem;\n"])),(function(e){return e.isSearchable?"thin":"0"})),L=function(n){var r=n.id,t=n.isSearchable,o=n.children;return e.createElement(S,{id:r,isSearchable:t},o)},F=o.button(b||(b=a(["\n  margin: 0;\n  padding: 1rem 0.5rem;\n  background-color: ",";\n  text-align: left;\n  border: 0;\n  user-select: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  &:first-of-type {\n    margin-top: 1rem;\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n"],["\n  margin: 0;\n  padding: 1rem 0.5rem;\n  background-color: ",";\n  text-align: left;\n  border: 0;\n  user-select: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  &:first-of-type {\n    margin-top: 1rem;\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.isSelected?function(e){return e.theme.optionSelectedBgColor}:"transparent"}),(function(e){return e.theme.optionHoverBgColor})),I=function(n){var r=n.label,t=n.isSelected,o=n.onClick,l=n.onDoubleClick,i=n.theme,a=n.isPinned,d=n.PinnedIcon;return e.createElement(F,{"aria-label":r,onClick:function(e){e.preventDefault(),o()},onDoubleClick:l,isSelected:t,role:"button",theme:i},r,a&&e.createElement(d,null))},H=o.button(v||(v=a(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  white-space: nowrap;\n  vertical-align: middle;\n  outline: none;\n  width: 100%;\n  border: 0;\n  transition: all 250ms;\n  padding: 0.6rem 0;\n  border-radius: 2px;\n  margin-top: ",";\n  background-color: ",";\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n"],["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  white-space: nowrap;\n  vertical-align: middle;\n  outline: none;\n  width: 100%;\n  border: 0;\n  transition: all 250ms;\n  padding: 0.6rem 0;\n  border-radius: 2px;\n  margin-top: ",";\n  background-color: ",";\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n"])),(function(e){return e.marginTop}),(function(e){return e.theme.buttonBgColor}),(function(e){return e.theme.buttonHoverBgColor})),P=o.div(x||(x=a(["\n  display: inline-flex;\n  align-self: center;\n  flex-shrink: 0;\n  margin: ",";\n"],["\n  display: inline-flex;\n  align-self: center;\n  flex-shrink: 0;\n  margin: ",";\n"])),(function(e){return e.margin})),j=function(n){var r=n.leftIcon,t=n.rightIcon,o=n.centerIcon,l=n.label,i=n.marginTop,a=n.type,d=void 0===a?"button":a,c=n.isDisabled,u=n.onClick,s=n.theme;return e.createElement(H,{id:l.replace(/\W/g,"_"),"aria-label":l,onClick:u,marginTop:i,disabled:c,"aria-disabled":c,theme:s,type:d},r&&e.createElement(P,{margin:"0 0.25rem 0 0"},r),o||l,t&&e.createElement(P,{margin:"0 0 0 0.25rem"},t))},T=function(){return e.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 20 20",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",d:"M14.7071 12.7071C14.3166 13.0976 13.6834 13.0976 13.2929 12.7071L10 9.41421L6.70711 12.7071C6.31658 13.0976 5.68342 13.0976 5.29289 12.7071C4.90237 12.3166 4.90237 11.6834 5.29289 11.2929L9.29289 7.29289C9.68342 6.90237 10.3166 6.90237 10.7071 7.29289L14.7071 11.2929C15.0976 11.6834 15.0976 12.3166 14.7071 12.7071Z",clipRule:"evenodd"}))},M=function(){return e.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 20 20",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",d:"M5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289L10 10.5858L13.2929 7.29289C13.6834 6.90237 14.3166 6.90237 14.7071 7.29289C15.0976 7.68342 15.0976 8.31658 14.7071 8.70711L10.7071 12.7071C10.3166 13.0976 9.68342 13.0976 9.29289 12.7071L5.29289 8.70711C4.90237 8.31658 4.90237 7.68342 5.29289 7.29289Z",clipRule:"evenodd"}))},z=function(){return e.createElement("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12 15V17M6 21H18C19.1046 21 20 20.1046 20 19V13C20 11.8954 19.1046 11 18 11H6C4.89543 11 4 11.8954 4 13V19C4 20.1046 4.89543 21 6 21ZM16 11V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V11H16Z",stroke:"#4A5568",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},O=function(t){var o=t.leftHeader,i=t.rightHeader,a=t.current,d=t.select,c=t.add,u=t.addAll,s=t.remove,m=t.removeAll,p=t.moveUp,f=t.moveDown,g=t.options,h=t.selected,b=t.isMax,v=t.disableAddAll,x=t.disableRemove,S=t.onNext,F=t.onPrevious,H=t.isSearchable,P=void 0!==H&&H,z=t.searchPlaceholder,O=t.disableAllButtons,R=t.disableDoubleClick,V=t.disableKeyboard,K=t.theme,U=t.buttonText,W=t.pinnedIcon,Z=n({left:"",right:""}),N=Z[0],_=Z[1],q=function(e){var n;_(l(l({},N),((n={})[e.target.name]=e.target.value,n)))},G=function(e,n){var r,t,o=document.activeElement;"ArrowDown"===e.key&&(S(n),null===(r=null==o?void 0:o.nextElementSibling)||void 0===r||r.focus()),"ArrowUp"===e.key&&(F(n),null===(t=null==o?void 0:o.previousElementSibling)||void 0===t||t.focus())},J=r((function(){return P?g.filter((function(e){return e.label.toLocaleLowerCase().includes(N.left.toLocaleLowerCase())})):g}),[g,N.left]),Q=r((function(){return P?h.filter((function(e){return e.label.toLocaleLowerCase().includes(N.right.toLocaleLowerCase())})):h}),[h,N.right]);return e.createElement(C,null,e.createElement(E,{theme:K,onKeyDown:function(e){return V?null:G(e,"options")}},e.createElement(w,{theme:K},e.createElement(A,null,o||"Options")),P&&e.createElement(D,{id:"left-search",name:"left",placeholder:null!=z?z:"Search ...",value:N.left,onChange:q,type:"search",theme:K}),e.createElement(L,{id:"left-column",isSearchable:P},J.sort((function(e,n){return e.label>n.label?1:e.label<n.label?0:-1})).map((function(n){return e.createElement(I,{key:"l-"+n.value,theme:K,label:n.label,isSelected:n.value===(null==a?void 0:a.value),onClick:function(){return d(n)},onDoubleClick:function(){return R?null:c()},PinnedIcon:W})})))),e.createElement(y,null,e.createElement(j,{type:"button",onClick:c,label:U.add,isDisabled:!g.length||b,theme:K}),!O&&e.createElement(j,{type:"button",label:U.addAll,onClick:u,marginTop:"0.5rem",isDisabled:!g.length||v,theme:K}),e.createElement(j,{type:"button",centerIcon:e.createElement(T,null),onClick:p,marginTop:"1.5rem",theme:K,label:"Move Up"}),e.createElement(j,{type:"button",centerIcon:e.createElement(M,null),onClick:f,marginTop:"0.5rem",theme:K,label:"Move Down"}),e.createElement(j,{type:"button",label:U.remove,onClick:s,marginTop:"1.5rem",isDisabled:x||!h.length,theme:K}),!O&&e.createElement(j,{type:"button",label:U.removeAll,onClick:m,marginTop:"0.5rem",isDisabled:!h.length,theme:K})),e.createElement(B,{theme:K,onKeyDown:function(e){return V?null:G(e,"selected")}},e.createElement(k,{theme:K},e.createElement(A,null,i||"Selected")),P&&e.createElement(D,{id:"right-search",name:"right",placeholder:null!=z?z:"Search ...",value:N.right,onChange:q,type:"search",theme:K}),e.createElement(L,{id:"right-column",isSearchable:P},Q.map((function(n){return e.createElement(I,{key:"r-"+n.value,theme:K,label:n.label,isSelected:n.value===(null==a?void 0:a.value),onClick:function(){return d(n)},onDoubleClick:function(){return R?null:s()},isPinned:n.pinned,PinnedIcon:W})})))))};export default function(o){var l=o.options,a=o.onChange,d=o.defaultValue,c=void 0===d?[]:d,u=o.max,s=o.leftHeader,m=o.rightHeader,p=o.isSearchable,f=o.searchPlaceholder,g=o.disableAllButtons,h=o.disableDoubleClick,b=o.disableKeyboard,v=o.theme,x=o.buttonText,C=o.pinnedIcon,w=n(l.filter((function(e){return!c.find((function(n){return n.value===e.value}))}))),k=w[0],y=w[1],E=n(l[0]),B=E[0],D=E[1],A=n(c),S=A[0],L=A[1],F=n(),I=F[0],H=F[1],P=n(!1),j=P[0],T=P[1],M=r((function(){return!!u&&S.length>=u}),[S]),R=r((function(){return!!u&&k.length>u}),[u]),V=l.filter((function(e){return e.pinned}));t((function(){I&&a(S,{action:I}),V.forEach((function(e){S.includes(e)||(y(k.filter((function(n){return n.value!==e.value}))),L(i(i([],S),[e])))}))}),[S]);var K=Object.assign({headerBgColor:"#FFFFFF",columnBorderColor:"#CFA4FF",textColor:"#000000",columnBgColor:"#CBD5E0",buttonBgColor:"#CBD5E0",buttonHoverBgColor:"#CBD5E098",searchFocusBorderColor:"#805Ad5",optionHoverBgColor:"#F2F2F2",optionSelectedBgColor:"#DDDCDC"},v),U=Object.assign({add:"Add",addAll:"Add all",remove:"Remove",removeAll:"Remove all"},x),W=null!=C?C:z;return e.createElement(O,{leftHeader:s,rightHeader:m,current:B,select:function(e){return(n=e).pinned?T(!0):T(!1),void D(n);var n},add:function(){S.find((function(e){return e.value===B.value}))||M||(y(k.filter((function(e){return e.value!==B.value}))),L(i(i([],S),[B])),H("add"))},addAll:function(){k.length&&(L(i(i([],S),k)),D(k[0]),y([]),H("add-all"))},remove:function(){B.pinned||k.find((function(e){return e.value===B.value}))||(L(S.filter((function(e){return e.value!==B.value}))),y(i(i([],k),[B])),H("remove"))},removeAll:function(){S.length&&(y(i(i([],k),S.filter((function(e){return!e.pinned})))),D(S[0]),L(V),H("remove-all"))},moveUp:function(){if(!k.includes(B)){var e=i([],S),n=e.findIndex((function(e){return e.value===B.value}));if(0===n)return;var r=e[n-1];e[n-1]=B,e[n]=r,L(e),H("move-up")}},moveDown:function(){if(!k.includes(B)){var e=i([],S),n=e.findIndex((function(e){return e.value===B.value}));if(n===S.length-1)return;var r=e[n+1];e[n+1]=B,e[n]=r,L(e),H("move-down")}},options:k,selected:S,isMax:M,disableAddAll:R,disableRemove:j,onNext:function(e){var n="options"===e?k:S,r=n.findIndex((function(e){return e.value===B.value}));r!==n.length-1&&D(n[r+1])},onPrevious:function(e){var n="options"===e?k:S,r=n.findIndex((function(e){return e.value===B.value}));0!==r&&D(n[r-1])},isSearchable:p,searchPlaceholder:f,disableAllButtons:g,disableDoubleClick:h,disableKeyboard:b,theme:K,buttonText:U,pinnedIcon:W})}
//# sourceMappingURL=react-column-select.es5.js.map
